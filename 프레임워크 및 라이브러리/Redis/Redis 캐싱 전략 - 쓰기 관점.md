# 5. Redis 캐싱 전략 - 읽기 관점
## 5.1 Write-Through 패턴
데이터 쓰기 작업을 할 때 관점에서 접근하는 아키텍처이다.

1. 애플리케이션은 데이터베이스에 데이터를 저장한다.
2. 애플리케이션은 1번과 같은 데이터를 레디스 서버에도 저장한다.

이 아키텍처의 장단점은 아래와 같다.

- 장점
	- 레디스 서버 내 캐시 데이터가 항상 최신 상태를 유지한다.
	- 읽기 작업 시 오버헤드가 적다.
- 단점
	- 사용하지 않는 캐시 데이터 생성 가능성이 있다.
	- 쓰기 작업 시 데이터베이스와 캐시에 모두 쓰기를 해야 하므로 오버헤드가 크다.

Write-Through 패턴은 쓰기 작업 시 지연 시간이 다소 증가해도 괜찮은 경우에 효과적이다. 하지만 데이터베이스가 변경될 때마다 Redis 서버에 쓰기 작업을 수행하므로 사용하지 않는 데이터가 저장될 수 있다.

## 5.2 Write-Back 패턴
해당 패턴은 캐시에 저장 후, 일정 시간이 지연되면 데이터베이스를 비동기 방식으로 주기적인 업데이트를 하는 방식이다. 데이터베이스가 RDBMS인 경우, 데이터를 영구적으로 저장하는 시점에 정규화하여 테이블에 저장한다.

1. 애플리케이션에 요청한다.
2. 레디스를 업데이트한다.
3. 응답한다.
4. 비동기로 레디스의 업데이트를 데이터 저장소에 반영한다.

Write-Back 패턴은 지연 읽기나 Write-Through 패턴과 같은 아키텍처에서 쓰기/읽기 작업 시 발생하는 오버헤드를 줄일 수 있어 쓰기 작업을 빠르게 처리할 수 있다. 하지만 그 사이, 레디스에 문제가 발생하는 경우 데이터 손실 위험이 있기 때문에 애플리케이션의 특성, 데이터의 특성, 복구 방법 등을 사전에 충분히 검토해야 합니다. 즉, Write-Back 패턴은 성능을 우선하지만 데이터 손실이 발생하는 상황을 가정해도 큰 문제없는 최악의 경우에 고려하는 패턴이다. 복구할 때는 사전에 계획적으로 생성한 스냅숏으로 데이터를 복워한다. 스냅숏 생성 이후에 저장된 데이터는 AOF를 사용하여 디스크에 플러시하지 않은 경우에는 손실을 감수해야 할 수도 있습니다.

- 장점
	- 레디스 서버 내의 캐시 데이터가 항상 최신 상태를 유지할 수 있다.
	- 쓰기 작업을 빠르게 처리할 수 있다.
- 단점
	- 데이터 손실 위험이 높다.

## 5.3 Write-Around 패턴

##