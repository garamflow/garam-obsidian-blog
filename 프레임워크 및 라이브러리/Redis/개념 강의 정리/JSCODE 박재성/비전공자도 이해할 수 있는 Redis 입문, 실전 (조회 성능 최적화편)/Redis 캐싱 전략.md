# Redis 캐싱 전략
## 1. 캐시(Cache), 캐싱(Caching)이란?
### 1.1 캐시(Cache)란?
캐시는 원본 저장소보다 빠르게 가져올 수 있는 임시 데이터 저장소를 의미한다.
- 캐시는 Redis에서만 쓰이는 용어가 아니고 전반적인 개발 분야에서 쓰인다.
![cache](/media/프레임워크%20및%20라이브러리/Redis/개념%20강의%20정리/JSCODE%20박재성/비전공자도%20이해할%20수%20있는%20Redis%20입문,%20실전%20(조회%20성능%20최적화편)/cache.webp)

### 1.2 캐싱(Caching) 이란?
캐싱은 캐시에 접근해서 데이터를 빠르게 가져오는 방식을 의미한다.

현업에서는 아래와 같이 얘기하는 편이다.

> “이 API는 응답 속도가 너무 느린데? 이 응답 데이터는 **캐싱(Cahing)** 해두고 쓰는 게 어때?’

이 말을 풀어서 설명하자면 **‘API 응답 결과를 원본 저장소보다 빠르게 가져올 수 있는 임시 데이터 저장소에 저장해두고, 빠르게 조회할 수 있게 만드는 게 어때?’** 라는 의미이다.

## 2. 데이터 캐싱 사용 전략(Cache Aside, Write Around)
자주 사용하는 전략 두 가지에 대해서 알아보자.

### 2.1 Cache Aside (= Look Aside, Lazy Loading) 전략
데이터 조회 시 주로 사용하는 전략이 **Cache Aside** 전략이다. Look Aside, Lazy Loading 전략이라고도 부른다.
Cache Aside 전략을 한 줄로 설명하면 **캐시(Cache)에서 데이터를 확인하고, 없다면 DB를 통해 조회해오는 방식**이다.

#### 작동 방식
처음으로 게시판 서비스를 배포했다고 가정하고 Cache Aside 작동 방식을 이해해보자.

1. 처음 게시판 서비스를 배포했기 때문에 데이터베이스와 레디스에는 아무런 데이터도 저장이 안 되어 있다.
2. 일부 사용자가 들어와 게시글 작성을 함으로써 데이터를 저장한다. 이 데이터는 데이터베이스에 저장된다. (레디스에는 저장되지 않는다.)
3. 사용자가 데이터를 조회하려고 요청한다. 이 때, 데이터베이스로부터 바로 데이터 조회를 하기 전에 레디스에 있는 지 먼저 확인한다.
4. 레디스에 데이터가 없는 걸 확인한 뒤에 데이터베이스로부터 데이터를 조회해서 응답한다.
5. 데이터베이스로부터 조회한 데이터를 응답한 뒤에 레디스에도 데이터를 저장해둔다.
6. 다시 한 번 사용자가 데이터를 조회하려고 요청한다.
7. 레디스에 조회하고자 하는 데이터가 있는 지 확인했더니, 데이터가 존재해서 레디스로부터 데이터를 바로 가져와버린다.

#### 캐시에 데이터가 있을 경우 (= Cache Hit)
![Cache Aside 1](/media/프레임워크%20및%20라이브러리/Redis/개념%20강의%20정리/JSCODE%20박재성/비전공자도%20이해할%20수%20있는%20Redis%20입문,%20실전%20(조회%20성능%20최적화편)/Cache%20Aside%201.webp)

#### 캐시에 데이터가 없을 경우 (= Cache Miss)
![Cache Aside 2](/media/프레임워크%20및%20라이브러리/Redis/개념%20강의%20정리/JSCODE%20박재성/비전공자도%20이해할%20수%20있는%20Redis%20입문,%20실전%20(조회%20성능%20최적화편)/Cache%20Aside%202.webp)

### 2.2 Write Around 전략


![Write Around](/media/프레임워크%20및%20라이브러리/Redis/개념%20강의%20정리/JSCODE%20박재성/비전공자도%20이해할%20수%20있는%20Redis%20입문,%20실전%20(조회%20성능%20최적화편)/Write%20Around.webp)