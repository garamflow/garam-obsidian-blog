# 4. 스프링 배치 실행 - Job
## 4.1 배치 초기화 설정
### 4.1.1 JobLauncherApplicationRunner
- **JobLauncherApplicationRunner**는 **Spring Batch** 작업을 시작하는 **ApplicationRunner**의 구현체로, 애플리케이션이 구동된 후 **Spring Batch**의 모든 **Job**을 실행하는 역할을 합니다.
- **BatchAutoConfiguration**에서 생성되며, **Spring Boot** 애플리케이션이 정상적으로 시작되면 **JobLauncherApplicationRunner**가 자동으로 등록된 **Job**을 실행합니다.
- 기본적으로 **모든 Job**이 실행되지만, 특정 **Job**을 지정하여 실행할 수도 있습니다.

### 4.1.2 BatchProperties
- **BatchProperties**는 **Spring Batch**의 환경 설정을 관리하는 구성 클래스입니다. 이를 통해 **Job**의 이름, 스키마 초기화, 테이블 접두사 등 배치 관련 설정을 할 수 있습니다.
- **application.properties** 또는 **application.yml** 파일에서 설정합니다.

- **설정 가능한 항목**:
	- **job.names**: 실행할 **Job**의 이름을 지정합니다. 여러 **Job**을 실행할 경우 쉼표로 구분합니다.
	- **initialize-schema**: 배치 테이블 스키마를 초기화할지 여부를 설정합니다. 기본값은 `NEVER`이며, 필요 시 `ALWAYS`, `EMBEDDED` 등으로 설정할 수 있습니다.
	- **tablePrefix**: 배치 메타데이터 테이블의 접두사를 설정합니다. 기본값은 `BATCH_`입니다.

- **application.yml** 예시:
```yaml
batch:
	job:
	  names: ${job.name:NONE}
	initialize-schema: NEVER
	tablePrefix: SYSTEM
```

### 4.1.3 Job 실행 옵션
- 기본적으로 **JobLauncherApplicationRunner**는 모든 등록된 **Job**을 실행하지만, 특정 **Job**만 실행하도록 설정할 수 있습니다.
- **Program arguments**로 실행할 **Job**의 이름을 지정합니다.
- 여러 **Job**을 실행하려면 쉼표로 구분합니다.
- **명령어 예시**:
```bash
--job.name=helloJob
--job.name=helloJob,simpleJob
```

**application.yml**에서 설정된 값이 없으면 **Job**은 실행되지 않습니다:
```yaml
batch:
	job:
	  names: NONE
```

#### 4. **동기 및 비동기 실행**
- **JobLauncher**의 실행 방식은 동기 및 비동기로 설정할 수 있습니다:
	- **동기적 실행**: 기본적으로 **SyncTaskExecutor**를 사용하며, 배치 작업이 완료된 후 **JobExecution**을 반환합니다.
	- **비동기적 실행**: **SimpleAsyncTaskExecutor**를 사용해 작업을 백그라운드에서 처리하고, 즉시 **JobExecution**을 반환합니다. 이는 HTTP 요청 기반의 배치 처리에 적합합니다.

