# 명령어 병렬 처리 기법
## 1) 명령어 파이프라인
- 명령어가 처리되는 과정을 비슷한 시간 간격으로 나누면 아래와 같다.
1. 명령어 인출 (Instruction Fetch)
2. 명령어 해석 (Instruction Decode)
3. 명령어 실행 (Execute Instruction)
4. 결과 저장  (Write Back)
- 같은 단계가 겹치지만 않는다면 CPU는 '각 단계를 동시에 실행할 수 있다.'
	- 컨베이어 벨트를 생각하면 편하다.
- 동시에 여러 개의 명령어를 겹쳐서 실행하는 기법이다.

### 파이프라인 위험
- 명령어 파이프라인이 성능 향상에 실패하는 경우

#### 데이터 위험
- 명령어 간의 의존성에 의해 야기된다.
- 모든 명령어를 동시에 처리할 수는 없다.
	- 이전 명령어를 끝까지 실행해야만 비로소 실행할 수 있는 경우
#### 제어 위험
- 프로그램 카운터의 갑작스러운 변화로 야기된다.
	- 갑자기 10번지에서 60번지로 분기한다면?
- 그래서 분기 예측이란 기능도 있다.

#### 구조적 위험
- 서로 다른 명령어가 같은 CPU 부품(ALU, 레지스터)을 쓰려고 할 때 야기된다.

## 2) 슈퍼스칼라
- CPU 내부에 여러 개의 명령어 파이프라인을 포함한 구조이다.
- 오늘날의 멀티스레드 프로세서이다.
- 이론적으로는 파이프라인 개수에 비례해서 처리 속도도 증가하지만, 위험도의 증가로 인해 처리 속도가 비례하지는 않는다.

## 3) 비순차적 명령어 처리
- 파이프라인의 중단을 방지하기 위해 명령어를 순차적으로 처리하지 않는 명령어 병렬 처리 기법이다.
	- 합법적인 새치기라고 생각하면 된다.
- 만약 **의존성이 없는 명령어**의 순서를 바꿔준다면?
	- 파이프라인의 중단을 방지할 수 있다.
- 그렇지만 아무 명령어나 순서를 바꿀 수는 없다.
	- 의존성이 없는 명령어여서 전체 프로그램 실행 흐름에 영향이 없어야한다.