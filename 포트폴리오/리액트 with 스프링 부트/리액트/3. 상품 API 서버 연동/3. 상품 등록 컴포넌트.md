# 상품 등록 컴포넌트
## 1) 상품 등록 페이지 및 라우팅 설정
### (1) 상품 등록 페이지
```javascript
// src/pages/products/AddPage.js

import React from 'react'

const AddPage = () => {
	return (
		<div className="p-4 w-full bg-white">
			<div className="text-3xl font-extrabold">
				Products Add Page
			</div>
		</div>
	);
}

export default AddPage;
```

### (2) 라우팅 설정해주기
```javascript
// src/router/productRouter.js

const ProductAdd = lazy(() => import('../pages/products/AddPage'));
...
{
	path: 'add',
	element: <Suspense fallback={Loading}><AddPage /></Suspense>
}
```

## 2) 상품 추가 컴포넌트 구현
### (1) AddComponent 만들기
```javascript
import React, { useRef, useState } from 'react'
import { postAdd } from '../../api/productsApi';

const initState = {
	pname: '',
	pdesc: '',
	price: 0,
	files: []
};

const AddComponent = () => {
	const [product, setProduct] = useState(initState);
	const uploadRef = useRef();

	const handleChangeProduct = (e) => {
		product[e.target.name] = e.target.value;
		setProduct({ ...product });
	};

	const handleClickAdd = (e) => {
		const formData = new FormData();
		const files = uploadRef.current.files;

		for (let i = 0; i < files.length; i++) {
			formData.append("files", files[i]);
		};

		formData.append("pname", product.pname);
		formData.append("pdesc", product.pdesc);
		formData.append("price", product.price);

		postAdd(formData);
	};

return (
	...
);
}  

export default AddComponent;
```

## 3) 상품 등록 POST API 구현
```javascript
import axios from 'axios';

export const API_SERVER_HOST = 'http://localhost:8080'

const host = `${API_SERVER_HOST}/api/products`;

export const postAdd = async (product) => {
	const header = { headers: { 'Content-Type': 'multipart/form-data' } };
	const res = await axios.post(`${host}/`, product, header);
	return res.data;
};
```