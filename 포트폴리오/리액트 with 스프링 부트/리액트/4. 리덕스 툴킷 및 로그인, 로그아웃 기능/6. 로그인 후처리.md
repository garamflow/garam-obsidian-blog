# 로그인 후처리
## 1) 로그인 후 애플리케이션 상태 처리
- API 서버에서 로그인 시 전송되는 데이터들을 상태 데이터로 보관하도록 만들어줘야한다.
```javascript
  // src/slices/loginslice.js
  ...
  extraReducers: (builder) => {
    builder.addCase(loginPostAsync.fulfilled, (state, action) => {
      console.log('fulfilled');
      const payload = action.payload;
      return payload;
    })
    ...
```

## 2) upwrap()을 이용한 후처리
- 로그인 컴포넌트에서 비동기 호출 이후 처리된 결과값을 알고 싶을 때, `upwrap()`을 사용하면 된다.
```javascript
dispatch(loginPostAsync(loginParam))
  .unwrap()
  .then(data => {
    console.log(data);
  })
```

## 3) 로그인 후 이동 처리
```javascript
dispatch(loginPostAsync(loginParam))
  .unwrap()
  .then(data => {
    console.log(data);

	if(data.erro) {
	  alert('이메일과 패스워드를 확인해주세요.');
	} else {
	  alert('로그인 성공');
	  navigate({pathname: '/'}, {replace: true})
	}
  })
```
- 뒤로 가기 했을 때 로그인 화면을 볼 수 없게 `replace`를 해준다.