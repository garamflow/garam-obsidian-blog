# 리덕스 툴킷 설정
## 1) 리덕스와 리덕스 툴킷 설치
```shell
npm install @reduxjs/toolkit react-redux
```

## 2) 스토어 설정하기
- 참고로 Todo와 같은 것은 상태로 유지할 만한 데이터가 아니다.
	- 오히려 로그인, 로그아웃의 JWT와 같은 것이 상태로 유지할만한 데이터이다.
- `src/store.js` 를 통해서 파일을 생성해준다.
```javascript
import { configureStore } from '@reduxjs/toolkit';

export default configureStore({
  reducer: {

  }
});
```
- store는 일종의 금고와 같이 컴포넌트라는 집안 구성원이 함께 사용하는 메모리 공간이다.
- reducer는 스토어가 공유되는 상태 데이터를 처리하는 것을 담당한다.
	- 일종의 금고 지킴이와 같다.
	- 누군가 금고에 물건을 넣거나 빼듯 리듀서가 현재 스토어에 있는 상태를 가공하는 역할을 한다.

## 3) 스토어를 애플리케이션에 적용하기
- `App.js`와 `index.js` 에 모두 적용 가능하다.
- 여기서는 `index.js`에 적용한다.
- 현재 프로젝트를 시작해주면 리듀서가 없다는 에러가 콘솔에 떠있다.
```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';
import reportWebVitals from './reportWebVitals';
import { Provider } from 'react-redux';
import store from './store';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <Provider store={store}>
    <React.StrictMode>
      <App />
    </React.StrictMode>
  </Provider>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```

## 4) 리듀서와 슬라이스
- 컴포넌트들이 액션(action)이라는 것을 이용해 리듀서를 호출하게 되는데 리듀서에서는 액션의 페이로드(payload)값을 처리해서 앞으로 보관할 애플리케이션 상태 데이터를 반환하게 된다.
- 리덕스 툴킷을 이용하면 슬라이스라는 이름으로 액션과 리듀서를 한 번에 적을 수 있다.
- `src/slices` 라는 폴더를 만들어주자.
- 그리고 로그인 처리를 하는 `loginSlice.js`를 만들어주자.
### (1) 슬라이스
```javascript
import { createSlice } from '@reduxjs/toolkit';

const initState = {
  email: ''
}

const loginSlice = createSlice({
  name: 'loginSlice',
  initialState: initState,
  reducers: {
    login: () => {
      console.log('login');
    },
    logout: () => {
      console.log('logout');
    }
  }
});

export const { login, logout } = loginSlice.actions;

export default loginSlice.reducer;
```

### (2) 리듀서 등록
```javascript
import { configureStore } from '@reduxjs/toolkit';
import loginSlice from './slices/loginSlice';

export default configureStore({
  reducer: {
    'loginSlice': loginSlice
  }
});
```