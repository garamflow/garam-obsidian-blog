# 썸네일 처리 기능 구현하기
## 1) thumbnailator 추가하기
- 썸네일 처리할 때, 자주 쓰이는 라이브러리인 thumbnailator를 `build.gradle`에 추가한다.
```groovy
// https://mvnrepository.com/artifact/net.coobird/thumbnailator
implementation 'net.coobird:thumbnailator:0.4.20'
```

## 2) 썸네일 처리 기능 구현하기
- 썸네일 처리에는 두 가지 기능이 필요하다.
	- 기존 이미지 파일과 이름이 달라야 하므로 `s_`를 붙여준다.
	- 사이즈를 원본 사이즈에서 조정해준다.
- `CustimFileUtil`에 기능을 추가해주자.
```java
for(MultipartFile file: files) {
    String savedName = UUID.randomUUID().toString() + "_" + file.getOriginalFilename();

    Path savePath = Paths.get(uploadPath, savedName);

    try {
        Files.copy(file.getInputStream(), savePath);

		// 파일의 MIME 타입을 반환한다.
        String contentType = file.getContentType();
        // 파일의 콘텐츠 타입이 null이 아니고 image로 시작하면 썸네일을 생성한다.
        if(contentType != null && contentType.startsWith("image")) {  
            // 썸네일 파일 이름은 원본 파일 이름 앞에 s_를 붙여서 구분한다.
            Path thumbnailPath = Paths.get(uploadPath, "s_" + savedName);

            // 썸네일의 크기는 200x200픽셀이고 생성된 썸네일은 지정된 경로에 파일로 저장된다.
            Thumbnails.of(savePath.toFile()).size(200, 200).toFile(thumbnailPath.toFile());
        }
        ...
```