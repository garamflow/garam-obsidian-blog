# 상품 서비스, 컨트롤러 계층 구현하기 - 상품 조회
## 1) 서비스 계층 - 인터페이스 - 상품 조회
```java
public interface ProductServiceTwo {
	...
	ProductDTOTwo get(Long pno);
}
```

## 2) Entity에서 DTO 변환 기능 구현하기
```java
public class ProductServiceTwoImpl implements ProductServiceTwo {
	...
	private ProductDTOTwo entityToDTO(Product product) {
	    ProductDTOTwo productDTOTwo = ProductDTOTwo.builder()
	            .pno(product.getPno())
	            .pname(product.getPname())
	            .pdesc(product.getPdesc())
	            .price(product.getPrice())
	            .delFlag(product.isDelFlag())
	            .build();
	
	    List<ProductImage> imageList = product.getImageList();
	
	    if(imageList == null || imageList.isEmpty()) return productDTOTwo;
	
	    List<String> fileNameList = imageList.stream().map(productImage ->  
	            productImage.getFileName()).toList();
	
	    productDTOTwo.setUploadedFileName(fileNameList);
	
	    return productDTOTwo;
	}
	...
}
```

## 3) 서비스 계층 - 서비스 클래스 - 상품 조회
```java
public class ProductServiceTwoImpl implements ProductServiceTwo {
	...
	@Override
	public ProductDTOTwo get(Long pno) {

	    Optional<Product> result = productRepositoryTwo.findById(pno);
	    Product product = result.orElseThrow();

	    return entityToDTO(product);
	}
	...
}
```

## 4) 컨트롤러 계층 구현하기 - 상품 조회
```java
public class ProductControllerTwo {
	...
	@GetMapping("/{pno}")
	public ProductDTOTwo read(@PathVariable("pno") Long pno) {
	    return productServiceTwo.get(pno);
	}
}
```