# 1. 타입스크립트란
- 자바스크립트의 확장판으로 자바스크립트를 더 안전하게 사용할 수 있도록 "타입 관련 기능들을 추가한" 언어이다.
- 자바스크립트의 기본적인 문법은 모두 포함되어 있다.

## 1.1 타입스크립트는 왜 사용하게 되었을까?
- 자바스크립트는 원래 웹 브라우저에서 아주 간단한 상호작용 정도를 처리하기 위해 개발되었다.
- 그래서 유연한 문법, 버그 발생 가능성이 높음, 자유로움과 같은 특징을 가지고 있다.
- 그런데 Node.js라는 런타임이 등장하면서 어디서든 자바스크립트를 구동할 수 있게되었고 웹 서버, 모바일 앱, 데스크탑 앱 등도 만들 수 있게 되었다.
- 하지만 자바스크립트는 유연하므로 버그 발생 가능성을 높아서 프로그램의 안전성 떨어트려버렸다.
- 이런 배경에서 자바스크립트를 안전하게 사용하기 위해서 타입이라는 안전장치를 추가한 타입스크립트가 등장하게 되었다.

## 1.2 자바스크립트의 한계점과 타입스크립트
### 1.2.1 타입 시스템
- 모든 프로그래밍 언어에는 타입 시스템이 존재한다.
	- 언어의 타입 관련된 문법 체계를 말한다.
		- 값들을 어떤 기준으로 묶어 타입을 규정할 것인가?
		- 코드의 타입을 언제 검사할지?
		- 어떻게 타입을 검사할지?

#### 정적 타입 시스템
- 코드 실행 이전 모든 변수의 타입을 고정적으로 결정한다.
- 엄격하고 고정적인 시스템이다.
- C, Java, ...
- 코드 실행 이전에 모든 변수의 타입을 결정하므로 모든 변수의 타입을 다 지정해야한다.
```java
String a = "hello";
int b = 123;
int c = a * b; // 코드 잘 못 썼다고 바로 오류 발생
```
- 타이핑 양이 매우 증가한다.

#### 동적 타입 시스템
- 코드를 실행하고 나서 그때 그때 마다 유동적으로 변수의 타입을 결정한다.
- 자유롭고 유연한 시스템이다.
- Python, JavaScript, ...
- 변수의 타입들을 코드가 실행되는 도중에 결정하므로 변수의 타입을 직접 정의하지 않는다.
	- `let a = 'hello';`
- 변수의 타입이 하나로만 고정되지 않아서 아무 타입의 값이나 자유롭게 담을 수 있다.
```javascript
let a = 'hello'; // 문자열
a = 1000; // 숫자
a.toUpperCase(); // 실행은 되지만 오류가 발생
```
- 이렇게 실행은 되고 나중에 오류가 터진다는 점이 실제 서비스에서는 매우 치명적일 수 있다.

### 1.2.2 타입스크립트
- 타입스크립트는 동적 타입 시스템과 정적 타입 시스템을 같이 갖고 있다.
- 실행 전 검사를 통해 타입 안정성을 확보하고 자동으로 변수의 타입을 추론한다.
	- 변수에 타입을 일일이 지정하지 않아도 초기값을 기준으로 자동으로 추론한다.
- 점진적 타입 시스템(Gradual Type System)
	- 점진적으로 타입이 정해진 변수들에 대해서는 타입을 결정하고 타입이 정해지지 않은 변수들에 대해서는 자동으로 타입을 추론한다.

```typescript
let a: number = 1;
a.toUpperCase(); // 오류 발생

let b = 1;
b.toUpperCase(); // 초기값을 기준으로 타입을 추론해서 오류 발생
```

## 1.3 타입스크립트의 동작 원리
### 1.3.1 대다수의 프로그래밍 언어의 동작 원리
- 프로그래밍 언어는 사람에게 친숙하고 컴퓨터는 기계어 등에 친숙하다.
- 그래서 프로그래밍 언어를 컴퓨터가 이해하기 쉬운 형태로 변화하는 컴파일(Compile) 과정이 필요하다.
	- 컴파일 하는 도구는 컴파일러(Compiler)이다.
	- JavaScript를 컴파일하면 바이트 코드가 된다.

#### 컴파일러의 컴파일 과정
- 컴파일러는 프로그래밍 언어를 해석해서 바로 바이트 코드 등으로 바꾸는 게 아니라 AST라는 특별한 형태로 변환한다.
- AST(추상 문법 트리)는 주석이나 공백 등을 전부 제거하고 트리 형태의 자료 구조에 코드를 쪼개서 저장한 형태이다.
- 컴파일러가 AST를 바이트 코드로 변환하고 컴파일을 끝내게 된다.
	- JavaScript -> AST -> 바이트 코드

### 1.3.2 타입스크립트의 동작 원리
- TypeScript => AST => 타입 검사(Type Checking) => 검사 실패 시 컴파일 종료
- TypeScript => AST => 타입 검사(Type Checking) > 검사 성공 시 AST를 JavaScript로 변환 => 컴파일 종료
- 결국 변환된 자바스크립트는 상대적으로 타입이 안전한 코드이다.
- 또한 타입 검사에 성공 후 컴파일 결과에서 타입과 관련된 코드들은 모두 사라지게 된다.