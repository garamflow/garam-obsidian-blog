# 메모리의 주소 공간
## 1) 물리 주소와 논리 주소
- CPU와 실행 중인 프로그램은 현재 메모리 몇 번지에 무엇이 저장되어 있는지 알고 있을 수 없다.
	- 메모리에 저장된 값들은 시시각각 변하기 때문이다.
		- 새롭게 실행되는 프로그램은 새롭게 메모리에 적재
		- 실행이 끝난 프로그램은 메모리에서 삭제
		- 같은 프로그램을 실행하더라도 실행할 때마다 적재되는 주소가 다름
- 그래서 주소 체계를 물리 주소와 논리 주소로 나누었다.

### (1) 물리 주소
- 메모리 입장에서 바라본 주소이다.
- 말 그대로 정보가 실제로 저장된 하드웨어상의 주소이다.

### (2) 논리 주소
- CPU와 실행 중인 프로그램 입장에서 바라본 주소이다.
- 실행 중인 프로그램 각각에게 부여된 0번지부터 시작하는 주소이다.

![물리 주소와 논리 주소](/media/Computer%20Science/개념%20강의%20정리/강민철/개발자를%20위한%20컴퓨터%20공학%201,%20혼자%20공부하는%20컴퓨터구조%20+%20운영체제/6.%20메모리와%20캐시%20메모리/물리%20주소와%20논리%20주소.svg)

## 2) 물리 주소와 논리 주소의 변환
- MMU (메모리 관리 장치)라는 하드웨어에 의해 변환된다.
### MMU
- 논리 주소와 베이스 레지스터 값을 더하여 논리 주소를 물리 주소로 변환한다.
	- 베이스 레지스터
		- 프로그램의 기준 주소로, 가장 작은 물리 주소(프로그램의 첫 물리 주소)을 저장하는 셈이다.
	- 논리 주소
		- 프로그램의 시작점으로부터 떨어진 거리인 셈이다.
![MMU](/media/Computer%20Science/개념%20강의%20정리/강민철/개발자를%20위한%20컴퓨터%20공학%201,%20혼자%20공부하는%20컴퓨터구조%20+%20운영체제/6.%20메모리와%20캐시%20메모리/MMU.svg)
![MMU의 주소 변환](/media/Computer%20Science/개념%20강의%20정리/강민철/개발자를%20위한%20컴퓨터%20공학%201,%20혼자%20공부하는%20컴퓨터구조%20+%20운영체제/6.%20메모리와%20캐시%20메모리/MMU의%20주소%20변환.svg)

## 3) 메모리 보호
- 한계 레지스터를 이용해서 다른 프로그램을 침범하는 것을 막을 수 있다.
- CPU는 메모리에 접근하기 전 접근하고자 하는 논리 주소가 한계 레지스터보다 작은지를 항상 검사한다.
- 실행 중인 프로그램의 독립적인 실행공간을 확보한다.
- 하나의 프로그램이 다른 프로그램을 침범하지 못하게 보호한다.

![메모리 보호](/media/Computer%20Science/개념%20강의%20정리/강민철/개발자를%20위한%20컴퓨터%20공학%201,%20혼자%20공부하는%20컴퓨터구조%20+%20운영체제/6.%20메모리와%20캐시%20메모리/메모리%20보호.svg)

### 한계 레지스터
- 프로그램의 영역을 침범할 수 있는 명령어의 실행을 막는다.
- 베이스 레지스터가 실행 중인 프로그램의 가장 작은 물리 주소를 저장한다면, 한계 레지스터는 논리 주소의 최대 크기를 저장한다.
- 베이스 레지스터 값 <= 프로그램의 물리 주소 범위 < 베이스 레지스터 + 한계 레지스터 값
![한계 레지스터](/media/Computer%20Science/개념%20강의%20정리/강민철/개발자를%20위한%20컴퓨터%20공학%201,%20혼자%20공부하는%20컴퓨터구조%20+%20운영체제/6.%20메모리와%20캐시%20메모리/한계%20레지스터.svg)
