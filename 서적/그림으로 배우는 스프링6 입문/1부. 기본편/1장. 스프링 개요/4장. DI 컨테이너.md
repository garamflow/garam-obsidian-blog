# 4장. DI 컨테이너
## 4.1 외부에서 직접 객체를 준비할 때의 문제점
- 애플리케이션의 규모가 커지면 외부에서 준비할 객체 수가 많아진다.
- 이런 경우 객체를 일일이 준비해서 다른 객체에 인젝션하는 처리를 작성하는 것은 매우 번거롭고 유지보수성이 좋지 않다.

## 4.2 DI 컨테이너를 사용한 솔루션
- DI 컨테이너(=IoC 컨테이너)는 외부에서 하는 처리를 담당하는 스프링 기능이다.
- 자바에서 컨테이너는 객체를 담는 상자로 생각하면 된다.
- 컨테이너에 자바를 넣으면 컨테이너는 객체에 부가적인 기능을 제공한다. 마찬가지로 DI 컨테이너는 DI 기능을 제공하는 객체를 담는 상자이다.
- DI 컨테이너는 다양한 기능을 제공하는데, 대량의 객체 생성이나 인젝션을 간결한 코드로 처리해주는 기능이 있다. 해당 기능으로 외부에서 직접 생성할 때 발생하는 문제를 해결할 수 있다.

## 4.3 DI 컨테이너 관련 기본 용어
- Bean
	- DI 컨테이너가 관리하는 객체를 말한다.
	- 자바에서 Java Beans 라는 용어가 있는데, Java Beans의 Bean의와는 직접적 관계가 없다. Bean은 스프링 고유 용어이다.
- Bean 정의
	- Bean을 정의하는 정보를 가리킨다.
	- 관리할 객체의 구상 클래스는 무엇인지, 어느 의존 객체를 인젝션할 것인지 등
- 설정 정보(configuration)
	- DI 컨테이너로 불러올 정보. 설정 정보에는 Bean 정의도 포함된다.
	- DI 컨테이너의 특정 기능을 활성화 또는 비활성화할 수 있는 정보도 포함된다.
	- 설정 정보를 작성해서 DI 컨테이너에서 불러오면 설정 정보에 따라 Bean 객체가 생성되며 의존 객체가 인젝션된다.
- 애플리케이션 컨텍스트(application context)
	- DI 컨테이너의 다른 이름이다.
	- DI 컨테이너에 해당하는 객체가 ApplicationContext 인터페이스를 구현하므로 DI 컨테이너를 종종 애플리케이션 컨텍스트라고 부른다.

## 4.4 JavaConfig에 설정 정보 작성하기
- DI 컨테이너에 불러올 설정 정보를 JavaConfig라 불리는 클래스에 작성한다.
	- XML 파일에 작성할 수도 있다.
- JavaConfig는스프링 고유 용어로 설정 정보를 자바의 클래스에 작성할 수 있게 해주는 기능이다.
```java
@Configuration
public class FooConfig {
	...
}
```
- DI 컨테이너의 특정 기능을 활성화하거나 Bean 정의를 설정한다.
	- Bean 정의는 다른 장소에서 작성된 설정을 불러올 수도 있다.
## 4.5 Bean 정의 작성하기
- Bean 정의 작성 방법은 아래 3가지다.
	- 스테레오타입 애너테이션
		- `@Service`
	- `@Bean` 메서드
		- `@Bean`
	- `<bean>` 태그
		- `<bean class="com.example.foo.service.FooService"></bean>`

### 스테레오타입 애너테이션
- Bean으로 관리하고 싶은 구상 클래스에 붙이는 애너테이션이다.
- DI 컨테이너는 스테레오타입 애너테이션이 붙은 구상 클래스를 감지해 자동으로 생성자를 호출하고 객체를 생성한다.
- 생성된 객체는 DI 컨테이너에서 관리된다.

### @Bean 메서드
- @Bean을 붙인 메서드를 말한다.
- Bean 메서드는 DI 컨테이너에 의해 자동으로 호출되고 반환 값으로 반환한 객체가 Bean으로 관리된다.

### `<bean>` 태그
- XML 파일에 작성한다.
- Bean으로 관리할 구상 클래스를 class 속성으로 지정하고, XML 파일을 DI 컨테이너로 불러온다.
- 지정된 구상 클래스의 생성자가 DI 클래스에 의해 호출되고, 생성된 객체는 Bean으로 관리된다.