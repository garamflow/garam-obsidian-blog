## 6장. 블로그 기획하고 API 만들기
## 6.1 사전 지식: API와 REST API
### 6.1.1 식당으로 알아보는 API
- 손님은 클라이언트, 주방에서 일하는 요리사를 서버, 중간 점원은 API라고 생각한다.
- API는 클라이언트의 요청을 서버에 전달하고, 서버의 결과물을 클라이언트에 돌려주는 역할을 한다.

### 6.1.2 웹의 장점을 최대한 활용하는 REST API
- REST는 Representational State Transfer를 줄인 표현이다.
- REST API는 자원을 이름으로 구분해 자원의 상태를 주고받는 API 방식
	- 명확하고 이해하기 쉬운 API를 말한다.
- REST API는 URL의 설계 방식을 말한다.
- REST하기 디자인한 API

#### REST API의 특징
- 서버/클라이언트 구조
- 무상태
- 캐시 처리 가능
- 계층화
- 인터페이스 일관성

#### REST API의 장점과 단점
- 장점
	- URL만 보고도 무슨 행동을 하는 API인지 알 수 있다는 점이 있다.
	- 상태가 없으므로 클라이언트와 서버의 역할이 명확하게 분리된다.
	- HTTP 표준을 사용하는 모든 플랫폼에서 사용할 수 있다.
- 단점
	- HTTP 메서드와 같은 방식의 개수에 제한이 있다.
	- 설계를 하기 위해 공식적으로 제공되는 표준 규약이 없다.

### 6.1.3 REST API를 사용하는 방법
#### 규칙 1. URL에는 동사를 쓰지 말고, 자원을 표시해야 한다.
- 자원은 가져오는 데이터를 말한다.

| 예문               | 적합성 | 설명                            |
| ---------------- | --- | ----------------------------- |
| /articles/1      | 적합  | 동사 없음, 1번 글을 가져온다는 의미가 명확, 적합 |
| /articles/show/1 | 부적합 | show라는 동사가 있음, 부적합            |
| /show/articles/1 | 부적합 | show라는 동사가 있음, 부적합            |

- 1번이 RESTful API하다.
- 2번, 3번의 경우 자원이 아닌 다른 표현을 섞어 사용했다. 동사를 사용해서 추후 개발 시 혼란을 줄 수 있다.
- RESTful API를 설계할 때는 동사를 쓰지 않는다.

#### 규칙 2. 동사는 HTTP 메서드로
- 동사는 HTTP 메서드로 해결한다.
- HTTP 메서드는 서버에 요청을 하는 방법을 나눈 것이다.
	- POST, GET, PUT, DELETE 등이 있다.
		- CRUD

| 설명                     | 적합한 HTTP 메서드와 URL  |
| ---------------------- | ------------------ |
| id가 1인 블로그 글을 조회하는 API | GET /articles/1    |
| 블로그 글을 추가하는 API        | POST /articles     |
| 블로그 글을 수정하는 API        | PUT /articles/1    |
| 블로그 글을 삭제하는 API        | DELETE /articles/1 |

## 6.2 블로그 개발을 위한 엔티티 구성하기
### 6.2.1 엔티티 구성하기
```java
package org.mall.blog.domain;

import jakarta.persistence.*;
import lombok.AccessLevel;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;

@Entity
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class Article {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id", updatable = false)
    private Long id;

    @Column(name = "title", nullable = false)
    private String title;

    @Column(name = "content", nullable = false)
    private String content;

    @Builder
    public Article(String title, String content) {
        this.title = title;
        this.content = content;
    }
}
```
#### @Builder 애너테이션
- 롬복에서 지원하는 애너테이션이다.
- 생성자 위에 입력하면 빌더 패턴 방식으로 객체를 생성할 수 있다.
- 빌더 패턴을 사용하면 객체를 유연하고 직관적으로 생성할 수 있다.
- 어떤 필드에 어떤 값이 들어가는지 명시적으로 파악할 수 있다.
```java
// 빌더 패턴을 사용하지 않았을 때
new Article("abc", "def");

// 빌더 패턴을 사용했을 때
Article.builder()
	.title("abe")
	.content("def")
	.build();
```

### 6.2.2 리포지터리 만들기
