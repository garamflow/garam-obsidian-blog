# 15-3. 댓글 조회하기
## 1) 요청을 받아 응답할 컨트롤러 만들기
1. `@GetMapping`에 URL은 `/api/articles/{articleId}/comments` 로 댓글 전체 조회 요청을 받는다.
2. 반환형은 `ResponseEntity<List<CommentDto>>` 이고 매개변수는 `@PathVariable Long articleId`인 `comments()` 메소드를 만든다.
	- 댓글 엔티티의 묶음인 `List<Comment>`가 아닌 이유는 DB에서 조회한 댓글 엔티티 목록은 `List<Comment>`가 맞지만, 엔티티를 DTO로 변환하면 `List<CommentDto>`가 되기 때문이다.
	- 응답 코드를 같이 보내려면 `ResponseEntity` 클래스를 활용해야 하므로 최종 반환형이 위와 같다.
3. 서비스에 댓글 조회를 위임하기 위한 코드를 작성해주고 `dtos` 변수에 저장한다.
4. 댓글 조회에 성공하는 경우만 응답한다고 생각하고 삼항 연산자 없이 서비스에서 반환받은 `dtos`를 응답 본문에 실어 보낸다.

```java
@RestController
public class CommentApiController {

    @Autowired
    private CommentService commentService;

    @GetMapping("/api/articles/{articleId}/comments")
    public ResponseEntity<List<CommentDto>> comments(@PathVariable Long articleId) {
        List<CommentDto> dtos = commentService.comments(articleId);
        return ResponseEntity.status(HttpStatus.OK).body(dtos);
    }
}
```

## 2) CommentDto 만들기
- 댓길 엔티티를 담을 그릇으로 Comment와 구조가 똑같다.
```java
package com.example.firstproject.dto;

import lombok.AllArgsConstructor;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.ToString;

@AllArgsConstructor
@NoArgsConstructor
@Getter
@ToString
public class CommentDto {

    private Long id;
    private Long articleId;
    private String nickname;
    private String body;
}
```

## 3) 요청을 처리할 서비스 만들기
1. `List<CommentDto>`를 반환하며 매개변수로 `Long articleId`를 받는 `comments()` 메소드를 만든다.
2. 특정 게시글의 댓글 엔티티 목록을 반환해주는 코드를 작성해준다.
3. 조회한 댓글 엔티티 목록을 DTO 목록으로 변환하기 위해 `CommentDto`를 저장하는 빈 `ArrayList`를 만들고 `List<CommentDto>` 타입의 `dtos` 변수에 저장한다.
4. 