# Spring Data JPA를 이용해 자동으로 쿼리 날리기
## 1) UserRepository 인터페이스 만들어주기
- 이전 UserRepository 이름을 UserJdbcRepository로 바꿔준다.
- UserRepository 인터페이스를 User 객체와 같은 패키지에 만들어준다.
```java
package com.group.libraryapp.domain.user;  
  
import org.springframework.data.jpa.repository.JpaRepository;  
  
public interface UserRepository extends JpaRepository<User, Long> {  
}
```
- `JpaRepository`를 상속받아야 한다.

## 2) UserServiceV2 만들어주기
- 이전에 작성한 Jdbc를 사용한 Service는 UserServiceV1으로 이름을 변경한다.
- 새롭게 UserServiceV2를 만들어준다.

### (1) JPA를 이용한 유저 저장
```java
package com.group.libraryapp.service.user;  
  
import com.group.libraryapp.domain.user.User;  
import com.group.libraryapp.domain.user.UserRepository;  
import com.group.libraryapp.dto.user.UserCreateRequest;  
import org.springframework.stereotype.Service;  
  
@Service  
public class UserServiceV2 {  
    private final UserRepository userRepository;  
  
    public UserServiceV2(UserRepository userRepository) {  
        this.userRepository = userRepository;  
    }  
  
    public void saveUser(UserCreateRequest request) {  
        userRepository.save(new User(request.getName(), request.getAge()));  
    }  
}
```
- `save()` 메소드에 객체를 넣어주면 INSERT SQL이 자동으로 날라간다.
- save 되고 난 후의 User는 id가 들어있다.

### (2) JPA를 이용한 유저 조회
```java

```

