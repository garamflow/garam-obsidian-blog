# 7-3. 수정 데이터를 DB에 갱신하기
![수정 폼의 데이터가 DB로 갱신되는 과정](/media/Spring%20Boot/책/코딩%20자율학습%20스프링부트3%20자바%20백엔드%20개발%20입문/Part%202.%20게시판%20CRUD%20만들기/7.%20게시글%20수정하기%20-%20Update/수정%20폼의%20데이터가%20DB로%20갱신되는%20과정.png)
- 클라이언트와 서버 간 처리 흐름에 관한 4가지 기술
	- MVC (Model-View-Controller): 서버 역할을 분담해 처리하는 기법
	- JPA (Java Persistence API): 서버와 DB 간 소통에 관여하는 기술
	- SQL (Structured Query Language): DB 데이터를 관리하기 언어
	- HTTP (HyperText Transfer Protocol): 데이터를 주고받기 위한 통신 규약
![클라이언트-서버 간 데이터 처리를 위한 4가지 기술](/media/Spring%20Boot/책/코딩%20자율학습%20스프링부트3%20자바%20백엔드%20개발%20입문/Part%202.%20게시판%20CRUD%20만들기/7.%20게시글%20수정하기%20-%20Update/클라이언트-서버%20간%20데이터%20처리를%20위한%204가지%20기술.png)

## 1) HTTP 메소드
- 클라이언트 서버 간에 데이터를 전송할 때는 다양한 통신 규약, 즉 프로토콜을 따른다.
- **통신 규약(Protocol)** 은 컴퓨터 간 원활하게 통신하기 위해 사용하는 전 세계 표준이다.
	- 기기 간 각종 신호 처리 방법, 오류 처리, 암호, 인증 방식 등을 규정하고 워활하게 통신할 수 있다.
- 프로토콜의 종류는 다양하다.
	- FTP(File Transfer Protocol): 파일 전송을 위한 프로토콜
	- SMTP(Simple Mail Transfer Protocol): 이메일 전송을 위한 프로토콜
	- ...
- **HTTP(HyperText Transfer Protocol)** 는 그중에서 웹 서비스에 사용하는 프로토콜이다.
- 클라이언트의 다양한 요청을 메소드를 통해 서버로 보내는 역할을 한다.
- 대표 메소드가 몇 가지 있다.
	- POST: 데이터 생성 요청
	- GET: 데이터 조회 요청
	- PATCH(PUT): 데이터 수정 요청
	- DELETE: 데이터 삭제 요청
	- 이를 **CRUD(Create Read Update Delete)** 라고 말한다.

| 데이터 관리         | SQL    | HTTP       |
| -------------- | ------ | ---------- |
| 데이터 생성(Create) | INSERT | POST       |
| 데이터 조회(Read)   | SELECT | GET        |
| 데이터 수정(Update) | UPDATE | PATCH(PUT) |
| 데이터 삭제(Delete) | DELETE | DELETE     |

## 2) 더미 데이터 설정하기
- 현재는 서버를 껐다 켰을 때 데이터가 사라지므로 더미(dummy) 데이터를 자동 생성할 수 있게 만들어준다.

1. `src/main/resources` 디렉토리에 data.sql 파일을 생성한다.
2. INSERT 문을 이용해서 데이터를 article 테이블에 넣어준다.
3. application.properties 파일에 `spring.jpa.defer-datasource-initialization=true`를 넣어준다.
	- 스프링 부트 2.5 버전부터 data.sql을 통해 데이터 초기화를 권장하지 않아서 옵션을 추가해줘야한다.

```sql
-- src/main/resources/data.sql

INSERT INTO article(id, title, content) VALUES (1, '가가가', '111');
INSERT INTO article(id, title, content) VALUES (2, '나나나', '222');
INSERT INTO article(id, title, content) VALUES (3, '다다다', '333');
```

```
server.servlet.encoding.force=true
spring.h2.console.enabled=true
spring.jpa.defer-datasource-initialization=true
```

## 3) 수정 페이지 변경하기
1. `<form>` 태그에서 `action="/articles/update"` 로 바꿔준다.
	- `<form>` 태그는 옛날에 만들어진 태그라서 POST, GET만 지원해서, PATCH를 사용하지 못한다.
2. 