## 1) 새로운 할인 정책 개발
- 할인 정책을 갑자기 `주문 금액 당 %` 로 바꾸려고 한다.
### `RateDiscountPolicy` 추가
![RateDiscountPolicy 추가](/media/Spring/김영한/스프링%20핵심%20원리%20-%20기본편/3/RateDiscountPolicy%20추가.png)
### `RateDiscountPolicy` 코드 추가
```java
package hello.core.discount;  
  
import hello.core.member.Grade;  
import hello.core.member.Member;  
  
public class RateDiscountPolicy implements DiscountPolicy {  
    private int discountPercent = 10;  
    @Override  
    public int discount(Member member, int price) {  
        if (member.getGrade() == Grade.VIP) {  
            return price * discountPercent / 100;  
        } else {  
            return 0;  
        }  
    }  
}
```

### `RateDiscountPolicy` 테스트
```java
package hello.core.discount;  
  
import hello.core.member.Grade;  
import hello.core.member.Member;  
import org.assertj.core.api.Assertions;  
import org.junit.jupiter.api.DisplayName;  
import org.junit.jupiter.api.Test;  
  
import static org.assertj.core.api.Assertions.*;  
import static org.junit.jupiter.api.Assertions.*;  
  
class RateDiscountPolicyTest {  
    RateDiscountPolicy discountPolicy = new RateDiscountPolicy();  
  
    @Test  
    @DisplayName("VIP는 10% 할인이 적용되어야 한다")  
    void vip_o() {  
        //given  
        Member member = new Member(1L, "memberVIP", Grade.VIP);  
  
        //when  
        int discount = discountPolicy.discount(member, 10000);  
  
        //then  
        assertThat(discount).isEqualTo(1000);  
    }  
  
    @Test  
    @DisplayName("VIP가 아니면 할인이 적용되지 않아야 한다")  
    void vip_x() {  
        //given  
        Member member = new Member(2L, "memberVIP", Grade.BASIC);  
  
        //when  
        int discount = discountPolicy.discount(member, 10000);  
  
        //then  
        assertThat(discount).isEqualTo(1000);  
    }  
}
```

## 2) 새로운 할인 정책 적용과 문제점
